{"ast":null,"code":"import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"../type\";\nimport data from \"../data.json\";\nconst datajson = data.products;\nconsole.log(\"datajson\", datajson);\nexport const fetchProducts = () => async dispatch => {\n  // const res = await fetch(\"/api/products\");\n  // const data = await res.json();\n  // console.log(data);\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: datajson\n  });\n};\nexport const filterProducts = (products, size) => dispatch => {\n  console.log(\"filterProductActions\", products);\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items: size === \"\" ? products : datajson.filter(x => x.availableSizes.indexOf(size) >= 0)\n    }\n  });\n};\nexport const sortProducts = (filteredProducts, sort) => dispatch => {\n  console.log(\"filteredPRoducts\", filteredProducts);\n  const sortedProducts = filteredProducts.slice();\n\n  if (sort === \"latest\") {\n    sortedProducts.sort((a, b) => a._id > b._id ? 1 : -1);\n  } else {\n    sortedProducts.sort((a, b) => sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price > b.price ? -1 : 1);\n  }\n\n  dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: sortedProducts\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/Tenzing Wangdi/Desktop/mockcart1/mockcart/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","data","datajson","products","console","log","fetchProducts","dispatch","type","payload","filterProducts","size","items","filter","x","availableSizes","indexOf","sortProducts","filteredProducts","sort","sortedProducts","slice","a","b","_id","price"],"mappings":"AAAA,SACEA,cADF,EAEEC,uBAFF,EAGEC,uBAHF,QAIO,SAJP;AAKA,OAAOC,IAAP,MAAiB,cAAjB;AAEA,MAAMC,QAAQ,GAAGD,IAAI,CAACE,QAAtB;AACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,QAAxB;AACA,OAAO,MAAMI,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACrD;AACA;AACA;AACAA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEV,cADC;AAEPW,IAAAA,OAAO,EAAEP;AAFF,GAAD,CAAR;AAID,CARM;AAUP,OAAO,MAAMQ,cAAc,GAAG,CAACP,QAAD,EAAWQ,IAAX,KAAqBJ,QAAD,IAAc;AAC9DH,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,QAApC;AACAI,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAET,uBADC;AAEPU,IAAAA,OAAO,EAAE;AACPE,MAAAA,IAAI,EAAEA,IADC;AAEPC,MAAAA,KAAK,EACHD,IAAI,KAAK,EAAT,GACIR,QADJ,GAEID,QAAQ,CAACW,MAAT,CAAiBC,CAAD,IAAOA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBL,IAAzB,KAAkC,CAAzD;AALC;AAFF,GAAD,CAAR;AAUD,CAZM;AAcP,OAAO,MAAMM,YAAY,GAAG,CAACC,gBAAD,EAAmBC,IAAnB,KAA6BZ,QAAD,IAAc;AACpEH,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCa,gBAAhC;AACA,QAAME,cAAc,GAAGF,gBAAgB,CAACG,KAAjB,EAAvB;;AACA,MAAIF,IAAI,KAAK,QAAb,EAAuB;AACrBC,IAAAA,cAAc,CAACD,IAAf,CAAoB,CAACG,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,GAAF,GAAQD,CAAC,CAACC,GAAV,GAAgB,CAAhB,GAAoB,CAAC,CAApD;AACD,GAFD,MAEO;AACLJ,IAAAA,cAAc,CAACD,IAAf,CAAoB,CAACG,CAAD,EAAIC,CAAJ,KAClBJ,IAAI,KAAK,QAAT,GACIG,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GACE,CADF,GAEE,CAAC,CAHP,GAIIH,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GACA,CAAC,CADD,GAEA,CAPN;AASD;;AACDlB,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAER,uBADC;AAEPS,IAAAA,OAAO,EAAE;AACPU,MAAAA,IAAI,EAAEA,IADC;AAEPP,MAAAA,KAAK,EAAEQ;AAFA;AAFF,GAAD,CAAR;AAOD,CAvBM","sourcesContent":["import {\r\n  FETCH_PRODUCTS,\r\n  FILTER_PRODUCTS_BY_SIZE,\r\n  ORDER_PRODUCTS_BY_PRICE,\r\n} from \"../type\";\r\nimport data from \"../data.json\";\r\n\r\nconst datajson = data.products;\r\nconsole.log(\"datajson\", datajson);\r\nexport const fetchProducts = () => async (dispatch) => {\r\n  // const res = await fetch(\"/api/products\");\r\n  // const data = await res.json();\r\n  // console.log(data);\r\n  dispatch({\r\n    type: FETCH_PRODUCTS,\r\n    payload: datajson,\r\n  });\r\n};\r\n\r\nexport const filterProducts = (products, size) => (dispatch) => {\r\n  console.log(\"filterProductActions\", products);\r\n  dispatch({\r\n    type: FILTER_PRODUCTS_BY_SIZE,\r\n    payload: {\r\n      size: size,\r\n      items:\r\n        size === \"\"\r\n          ? products\r\n          : datajson.filter((x) => x.availableSizes.indexOf(size) >= 0),\r\n    },\r\n  });\r\n};\r\n\r\nexport const sortProducts = (filteredProducts, sort) => (dispatch) => {\r\n  console.log(\"filteredPRoducts\", filteredProducts);\r\n  const sortedProducts = filteredProducts.slice();\r\n  if (sort === \"latest\") {\r\n    sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\r\n  } else {\r\n    sortedProducts.sort((a, b) =>\r\n      sort === \"lowest\"\r\n        ? a.price > b.price\r\n          ? 1\r\n          : -1\r\n        : a.price > b.price\r\n        ? -1\r\n        : 1\r\n    );\r\n  }\r\n  dispatch({\r\n    type: ORDER_PRODUCTS_BY_PRICE,\r\n    payload: {\r\n      sort: sort,\r\n      items: sortedProducts,\r\n    },\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}