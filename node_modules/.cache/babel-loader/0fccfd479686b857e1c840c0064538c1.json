{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { FETCH_PRODUCTS, // FILTER_PRODUCTS_BY_SIZE,\nORDER_PRODUCTS_BY_PRICE } from \"../type\";\nimport React, { useState } from \"react\";\nimport data from \"../data.json\";\nconsole.log(\"poruductsdata\", data);\nexport const fetchProducts = () => async dispatch => {\n  // const res = await fetch(\"/api/products\");\n  // const data = await res.json();\n  // console.log(data);\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: data\n  });\n}; // export const filterProducts = (products, size) => (dispatch) => {\n//   console.log(\"filterProductActions\", data.products);\n//   console.log(\"filterSize\", size);\n// USING REDUX DISPATCH\n// dispatch({\n//   type: FILTER_PRODUCTS_BY_SIZE,\n//   payload: {\n//     size: size,\n//     items:\n//       size === \"\"\n//         ? products\n//         : data.products.filter((x) => x.availableSizes.indexOf(size) >= 0),\n//   },\n// });\n\nexport const FilterProducts = event => {\n  _s();\n\n  const [size, setSize] = useState(\"\");\n  const [sort, setSort] = useState(\"\");\n  const [products, setProducts] = useState(data.products);\n  setSize(event.target.value);\n  setProducts(data.products.filter(product => product.availableSizes.indexOf(event.target.value) >= 0));\n};\n\n_s(FilterProducts, \"N4GXZdwKnyNH+iMuUYYPd+Jrh9c=\");\n\n_c = FilterProducts;\nexport const sortProducts = (filteredProducts, sort) => dispatch => {\n  console.log(\"filteredPRoducts\", filteredProducts);\n  const sortedProducts = data.products.slice();\n\n  if (sort === \"latest\") {\n    sortedProducts.sort((a, b) => a._id > b._id ? 1 : -1);\n  } else {\n    sortedProducts.sort((a, b) => sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price > b.price ? -1 : 1);\n  }\n\n  dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: sortedProducts\n    }\n  });\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterProducts\");","map":{"version":3,"sources":["C:/Users/Tenzing Wangdi/Desktop/mockcart1/mockcart/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","ORDER_PRODUCTS_BY_PRICE","React","useState","data","console","log","fetchProducts","dispatch","type","payload","FilterProducts","event","size","setSize","sort","setSort","products","setProducts","target","value","filter","product","availableSizes","indexOf","sortProducts","filteredProducts","sortedProducts","slice","a","b","_id","price","items"],"mappings":";;AAAA,SACEA,cADF,EAEE;AACAC,uBAHF,QAIO,SAJP;AAKA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAEAC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,IAA7B;AAEA,OAAO,MAAMG,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACrD;AACA;AACA;AAEAA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAET,cADC;AAEPU,IAAAA,OAAO,EAAEN;AAFF,GAAD,CAAR;AAID,CATM,C,CAWP;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMO,cAAc,GAAIC,KAAD,IAAW;AAAA;;AACvC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAACC,IAAI,CAACa,QAAN,CAAxC;AAEAH,EAAAA,OAAO,CAACF,KAAK,CAACO,MAAN,CAAaC,KAAd,CAAP;AACAF,EAAAA,WAAW,CACTd,IAAI,CAACa,QAAL,CAAcI,MAAd,CACGC,OAAD,IAAaA,OAAO,CAACC,cAAR,CAAuBC,OAAvB,CAA+BZ,KAAK,CAACO,MAAN,CAAaC,KAA5C,KAAsD,CADrE,CADS,CAAX;AAKD,CAXM;;GAAMT,c;;KAAAA,c;AAab,OAAO,MAAMc,YAAY,GAAG,CAACC,gBAAD,EAAmBX,IAAnB,KAA6BP,QAAD,IAAc;AACpEH,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCoB,gBAAhC;AACA,QAAMC,cAAc,GAAGvB,IAAI,CAACa,QAAL,CAAcW,KAAd,EAAvB;;AACA,MAAIb,IAAI,KAAK,QAAb,EAAuB;AACrBY,IAAAA,cAAc,CAACZ,IAAf,CAAoB,CAACc,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,GAAF,GAAQD,CAAC,CAACC,GAAV,GAAgB,CAAhB,GAAoB,CAAC,CAApD;AACD,GAFD,MAEO;AACLJ,IAAAA,cAAc,CAACZ,IAAf,CAAoB,CAACc,CAAD,EAAIC,CAAJ,KAClBf,IAAI,KAAK,QAAT,GACIc,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GACE,CADF,GAEE,CAAC,CAHP,GAIIH,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GACA,CAAC,CADD,GAEA,CAPN;AASD;;AACDxB,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAER,uBADC;AAEPS,IAAAA,OAAO,EAAE;AACPK,MAAAA,IAAI,EAAEA,IADC;AAEPkB,MAAAA,KAAK,EAAEN;AAFA;AAFF,GAAD,CAAR;AAOD,CAvBM","sourcesContent":["import {\r\n  FETCH_PRODUCTS,\r\n  // FILTER_PRODUCTS_BY_SIZE,\r\n  ORDER_PRODUCTS_BY_PRICE,\r\n} from \"../type\";\r\nimport React, { useState } from \"react\";\r\nimport data from \"../data.json\";\r\n\r\nconsole.log(\"poruductsdata\", data);\r\n\r\nexport const fetchProducts = () => async (dispatch) => {\r\n  // const res = await fetch(\"/api/products\");\r\n  // const data = await res.json();\r\n  // console.log(data);\r\n\r\n  dispatch({\r\n    type: FETCH_PRODUCTS,\r\n    payload: data,\r\n  });\r\n};\r\n\r\n// export const filterProducts = (products, size) => (dispatch) => {\r\n//   console.log(\"filterProductActions\", data.products);\r\n//   console.log(\"filterSize\", size);\r\n\r\n// USING REDUX DISPATCH\r\n// dispatch({\r\n//   type: FILTER_PRODUCTS_BY_SIZE,\r\n//   payload: {\r\n//     size: size,\r\n//     items:\r\n//       size === \"\"\r\n//         ? products\r\n//         : data.products.filter((x) => x.availableSizes.indexOf(size) >= 0),\r\n//   },\r\n// });\r\n\r\nexport const FilterProducts = (event) => {\r\n  const [size, setSize] = useState(\"\");\r\n  const [sort, setSort] = useState(\"\");\r\n  const [products, setProducts] = useState(data.products);\r\n\r\n  setSize(event.target.value);\r\n  setProducts(\r\n    data.products.filter(\r\n      (product) => product.availableSizes.indexOf(event.target.value) >= 0\r\n    )\r\n  );\r\n};\r\n\r\nexport const sortProducts = (filteredProducts, sort) => (dispatch) => {\r\n  console.log(\"filteredPRoducts\", filteredProducts);\r\n  const sortedProducts = data.products.slice();\r\n  if (sort === \"latest\") {\r\n    sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\r\n  } else {\r\n    sortedProducts.sort((a, b) =>\r\n      sort === \"lowest\"\r\n        ? a.price > b.price\r\n          ? 1\r\n          : -1\r\n        : a.price > b.price\r\n        ? -1\r\n        : 1\r\n    );\r\n  }\r\n  dispatch({\r\n    type: ORDER_PRODUCTS_BY_PRICE,\r\n    payload: {\r\n      sort: sort,\r\n      items: sortedProducts,\r\n    },\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}